import urx
import math
import math3d as m3d
import numpy as np
import time
# import quaternion
import datetime
np.set_printoptions(suppress=True)
import plotly.graph_objects as go


def EndEffectorFrame(Xcods,Ycods,Zcods):
    for i in range(0,len(Xcods)):


        p1 = [Xcods[i][-2],Ycods[i][-2],Zcods[i][-2]]
        p2 = [Xcods[i][-1],Ycods[i][-1],Zcods[i][-1]]
    
        P = p2 + 1.5*np.subtract(p2,p1)
        x1 = P[0]
        y1 = P[1]
        z1 = P[2]
        Xcods[i].append(x1)
        Ycods[i].append(y1)
        Zcods[i].append(z1)

    return Xcods,Ycods,Zcods


Xcods = [[0.0, -0.16223503763779448, -0.5498630841506883, -0.5524918264562649, -0.4585279397654607, -0.4918000000000002], [0.0, -0.13891844305560716, -0.528312569194229, -0.5260372452704718, -0.4332932052619661, -0.46938713200493076], [0.0, -0.1176205603912415, -0.50764907964765, -0.5001869397432998, -0.408868468931074, -0.44743003953741034], [0.0, -0.09851819920467565, -0.4881655064387049, -0.47536147194948153, -0.3856793742135842, -0.4263526970092425], [0.0, -0.08171615924028872, -0.47004806265876864, -0.4519080279237931, -0.36407859552286165, -0.40655193535208517], [0.0, -0.06719895594683083, -0.45336444782814617, -0.4300760857775769, -0.34432416050216474, -0.3883757594453562], [0.0, -0.0548215170139794, -0.43806530035308666, -0.41000269630366726, -0.3265716193210852, -0.3721101212254446], [0.0, -0.04432405847981914, -0.4239856987827458, -0.39169616384919403, -0.31087186117443033, -0.35796795885455457], [0.0, -0.03535640173605866, -0.4108364378752883, -0.375012080194634, -0.2971719449967839, -0.34608074748163636], [0.0, -0.032891506860626765, -0.40318686273535886, -0.36420628433070523, -0.287718926807002, -0.3364904681115743], [0.0, -0.03706615858056274, -0.40096139967082806, -0.3592211029208325, -0.2823015165533188, -0.32915643363682007], [0.0, -0.04283184604525376, -0.39928775650944287, -0.35557287270088506, -0.2784258051179638, -0.32394766419347687], [0.0, -0.050467679837985696, -0.39818814072536957, -0.3532180779933202, -0.27596043268783016, -0.32065088550084236], [0.0, -0.060234281543810796, -0.39761861491927053, -0.35201072518270604, -0.2747067703509678, -0.3189793740164655], [0.0, -0.07232469746778034, -0.3974828251356822, -0.35172405401312, -0.27441010588150744, -0.3185843155344562], [0.0, -0.08680535308731956, -0.39764909833314444, -0.35207514241637006, -0.27477348559912135, -0.3190682421054547], [0.0, -0.10355909745405505, -0.397967330046067, -0.3527490073686544, -0.27547255310517615, -0.3200000000000002]]
Ycods = [[0.0, 0.0031999779335964056, 0.010845682667574142, -0.12242839475894894, -0.12428176976562802, -0.13329999999999997], [0.0, -0.0023715717463237093, -0.009019185176349781, -0.1422997647858412, -0.14071646785214287, -0.15243834537180828], [0.0, -0.006594745481181874, -0.028462850907159675, -0.16155382155523895, -0.1564337807159997, -0.1711875040737015], [0.0, -0.009507053609421091, -0.04710820617357268, -0.17979184005808302, -0.17113747449046662, -0.18918544440479693], [0.0, -0.011224705297319846, -0.06456680083808317, -0.19662674608952524, -0.18456230859886463, -0.20609331247874912], [0.0, -0.011923463145976088, -0.0804428314280921, -0.21169275406807542, -0.19647734028208053, -0.22161394696953596], [0.0, -0.011805721237409769, -0.09433662367336451, -0.22464924874847192, -0.2066825070192696, -0.23550317355196324], [0.0, -0.011066280662586102, -0.10585548572427793, -0.23518559023894592, -0.21500638173609687, -0.24757916435411453], [0.0, -0.009864960243584258, -0.1146294568239988, -0.2430253500479199, -0.22130679834646455, -0.25772965276160614], [0.0, -0.010058039209585189, -0.12329229218246296, -0.2507654442861066, -0.2273760372798899, -0.265918791199255], [0.0, -0.012221145174776737, -0.1322016540831535, -0.25879801116826995, -0.23343672562426115, -0.2721813223834606], [0.0, -0.01486871025164453, -0.13860934110324133, -0.26453749098881807, -0.2377565440867734, -0.2766290900047552], [0.0, -0.018086047329604674, -0.14269824930263245, -0.26818364071484246, -0.2404969027063873, -0.27944420894660305], [0.0, -0.02193252865340197, -0.14478103567152092, -0.2700360171843429, -0.24188807284246167, -0.2808715124085247], [0.0, -0.026433633191977772, -0.14527423643117696, -0.27047417598928125, -0.24221704368056918, -0.281208852800322], [0.0, -0.03158096578124232, -0.1446701398100226, -0.2699374721121671, -0.2418140800406765, -0.280795627957682], [0.0, -0.0373438008638652, -0.14350851918304844, -0.2689046646351372, -0.24103848396702904, -0.28000000000000014]]
Zcods = [[0.1625, 0.5553034530193032, 0.6145223752968882, 0.6145223752968882, 0.58124410913048, 0.48780000000000007], [0.1625, 0.5641479077829961, 0.6105037462979442, 0.6105037462979442, 0.573950686046846, 0.48186384638075985], [0.1625, 0.5708465600507597, 0.6057804995900042, 0.6057804995900042, 0.5660965976860686, 0.4754572413365394], [0.1625, 0.5758143844062719, 0.599938424099437, 0.599938424099437, 0.5572498623725409, 0.46814255854882725], [0.1625, 0.5794190272822819, 0.592602108511663, 0.592602108511663, 0.5469892797004156, 0.4595101891948799], [0.1625, 0.5819843636493051, 0.583450327592087, 0.583450327592087, 0.5349200432854699, 0.4492009226950883], [0.1625, 0.5837840208438371, 0.5722214659776191, 0.5722214659776191, 0.5206798169434389, 0.43691959950748716], [0.1625, 0.5850374720331611, 0.5587147539694106, 0.5587147539694106, 0.50393956212733, 0.42244642489588236], [0.1625, 0.5859118649916071, 0.5427843480547937, 0.5427843480547937, 0.48439506937821103, 0.40564569023303243], [0.1625, 0.5861059308174235, 0.5238147326327696, 0.5238147326327696, 0.4642940658107426, 0.3864740627325644], [0.1625, 0.5857041392740595, 0.5020036554406634, 0.5020036554406634, 0.4438635451156403, 0.3649735396202339], [0.1625, 0.5850746731878382, 0.47807803692484707, 0.47807803692484707, 0.42088362420484404, 0.3412793182901291], [0.1625, 0.5841051567328867, 0.4522600953930751, 0.4522600953930751, 0.39564922381965506, 0.315611540419904], [0.1625, 0.5826378291867665, 0.42483765201254453, 0.42483765201254453, 0.36851819004157993, 0.28826616200317534], [0.1625, 0.5804657894762034, 0.3961564217456195, 0.3961564217456195, 0.33990539599505876, 0.2596032290062029], [0.1625, 0.5773402985194541, 0.36660860949514773, 0.36660860949514773, 0.31027372978726586, 0.2300330077812991], [0.1625, 0.5729947671670633, 0.33661861531105164, 0.33661861531105164, 0.2801215747563738, 0.20000000000000018]]

xpts,ypts,zpts = EndEffectorFrame(Xcods,Ycods,Zcods)
print(xpts,"x")
print(ypts,"y")
print(zpts,"z")

        